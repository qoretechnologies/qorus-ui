<% item = item.toJSON() %>
<h3><%= item.name %> <small><%= item.version %></h3>
<p class="muted"><em><%= item.description %></em></p>
<ul class="nav nav-tabs">
    <li class="active"><a href="#options">Options</a></li>
    <li><a href="#library">Library</a></li>
    <li><a href="#steps" class="steps">Steps</a></li>
    <li><a href="#log" class="log">Log</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="options">
        <% _.each(item.options, function (option) { %>
        <p><%= option %></p>
        <% }) %>
    </div>
    <div class="tab-pane" id="library">
        <%= createNestedList(item.lib) %>
    </div>
    <div class="tab-pane" id="steps">
        <% var num_levels = item.step_diagram %>
        <% _.each(item.step_diagram, function (level, idx) { %>
          <div class="row-fluid step-level">
          <% var span = 12 / level.length %>
          <% _.each(level, function (step) { %>
            <div class="span<%= span %> step step-<%= step.steptype.toLowerCase() %>"><a href="#"><%= step.name %></a></div>
          <% }) %>
          </div>
          <% if (num_levels - 1 < idx) { %><i class="icon-arrow-down"></i><% } %>
        <% }) %>
    </div>
    <div class="tab-pane" id="log">
        <p>TODO log</p>
    </div>
</div>